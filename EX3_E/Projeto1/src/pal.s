.text
.global PALINDRUM
.type PALINDRUM,"function"

PALINDRUM:

INICIO: MOV X11,#0x00 //X11 VAI SERVIR DE REGISTO TEMPORARIO



PRE_PROC:	STP X29,X30,[SP,#-16]!
			STP X0,X0,[SP,#-16]!
			BL STRLEN //RETORNA EM X0 O TAMANHO DA STRING

			MOV X12,X0 // X12 FICA COM O TAMANHO DA STRING
			SUBS X12,X12,#1

			LDP X0,X14,[SP],#16//RECUPERA PARA X0 O VALOR DA STRING, X14 E LIXO

CICLO:
			CMP X11, X12
			B.GE FIM_SUCESS // SE FOR MAIOR OU IGUAL O APONTADOR ESQUERDO AO DA DIREITA, ACABA

LE_ESQ:			LDRSB W13,[X0,X11]

			ADD X11,X11, #1

			CMP W13,#0x20
			B.EQ LE_ESQ

LE_DIR:			LDRSB W14,[X0,X12]
			SUB X12,X12, #1
			CMP W14,#0x20
			B.EQ LE_DIR

			CMP W13,W14
			B.NE FIM_NOT_SUCESS
			B CICLO


FIM_SUCESS: MOV X0,#1
			LDP X29,X30,[SP],#16
			RET

FIM_NOT_SUCESS:
			MOV X0,#0
			LDP X29,X30,[SP],#16
			RET

